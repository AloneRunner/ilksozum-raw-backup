// Lightweight i18n utilities - Modular structure
import trCommon from './tr/common.json';
import trScreens from './tr/screens.json';
import trLetterActivities from './tr/letterActivities.json';
import trGameActivities from './tr/gameActivities.json';
import trConcepts from './tr/concepts.json';
import trObjects from './tr/objects.json';
import trQuestions from './tr/questions.json';
import trActivityFeedback from './tr/activityFeedback.json';
import trCommunication from './tr/communication.json';
import trFiveWOneH from './tr/fiveWOneH.json';
import trCauseEffect from './tr/causeEffect.json';
import trFunctionalMatching from './tr/functionalMatching.json';
import trWhatDoesntBelong from './tr/whatDoesntBelong.json';
import trSequencingStories from './tr/sequencingStories.json';
import trDragAndDropCounting from './tr/dragAndDropCounting.json';
import trPatternCompletion from './tr/patternCompletion.json';
import trSudoku from './tr/sudoku.json';
import trEmotionPuppet from './tr/emotionPuppet.json';
import trBigSmall from './tr/bigSmall.json';
import trSpatial from './tr/spatial.json';
import trAliveLifeless from './tr/aliveLifeless.json';
import trBitterSweet from './tr/bitterSweet.json';
import trBrokenIntact from './tr/brokenIntact.json';
import trCleanDirty from './tr/cleanDirty.json';
import trDerinSig from './tr/derinSig.json';
import trDikenliPuruzsuz from './tr/dikenliPuruzsuz.json';
import trDugumCozuk from './tr/dugumCozuk.json';
import trHardSoft from './tr/hardSoft.json';
import trHeavyLight from './tr/heavyLight.json';
import trHotCold from './tr/hotCold.json';
import trHungryFull from './tr/hungryFull.json';
import trKalabalikTenha from './tr/kalabalikTenha.json';
import trKirisikDuzgun from './tr/kirisikDuzgun.json';
import trLongShort from './tr/longShort.json';
import trMessyClean from './tr/messyClean.json';
import trNoisyQuiet from './tr/noisyQuiet.json';
import trParlakMatConcepts from './tr/parlakMatConcepts.json';
import trRoughSmoothConcepts from './tr/roughSmoothConcepts.json';
import trSeffafOpakConcepts from './tr/seffafOpakConcepts.json';
import trSivriKutConcepts from './tr/sivriKutConcepts.json';
import trStraightCurvedConcepts from './tr/straightCurvedConcepts.json';
import trTazeBayatConcepts from './tr/tazeBayatConcepts.json';
import trTembelCaliskanConcepts from './tr/tembelCaliskanConcepts.json';
import trTersDuzConcepts from './tr/tersDuzConcepts.json';
import trThinThickConcepts from './tr/thinThickConcepts.json';
import trWetDryConcepts from './tr/wetDryConcepts.json';
import trWideNarrowConcepts from './tr/wideNarrowConcepts.json';
import trYoungOldConcepts from './tr/youngOldConcepts.json';
import trFewMuchConcepts from './tr/fewMuchConcepts.json';
import trFullEmptyConcepts from './tr/fullEmptyConcepts.json';
import trHalfQuarterWholeConcepts from './tr/halfQuarterWholeConcepts.json';
import trOddEvenConcepts from './tr/oddEvenConcepts.json';

import enCommon from './en/common.json';
import enScreens from './en/screens.json';
import enLetterActivities from './en/letterActivities.json';
import enGameActivities from './en/gameActivities.json';
import enConcepts from './en/concepts.json';
import enObjects from './en/objects.json';
import enQuestions from './en/questions.json';
import enActivityFeedback from './en/activityFeedback.json';
import enCommunication from './en/communication.json';
import enFiveWOneH from './en/fiveWOneH.json';
import enCauseEffect from './en/causeEffect.json';
import enFunctionalMatching from './en/functionalMatching.json';
import enWhatDoesntBelong from './en/whatDoesntBelong.json';
import enSequencingStories from './en/sequencingStories.json';
import enDragAndDropCounting from './en/dragAndDropCounting.json';
import enPatternCompletion from './en/patternCompletion.json';
import enSudoku from './en/sudoku.json';
import enEmotionPuppet from './en/emotionPuppet.json';
import enBigSmall from './en/bigSmall.json';
import enSpatial from './en/spatial.json';
import enAliveLifeless from './en/aliveLifeless.json';
import enBitterSweet from './en/bitterSweet.json';
import enBrokenIntact from './en/brokenIntact.json';
import enCleanDirty from './en/cleanDirty.json';
import enDerinSig from './en/derinSig.json';
import enDikenliPuruzsuz from './en/dikenliPuruzsuz.json';
import enDugumCozuk from './en/dugumCozuk.json';
import enHardSoft from './en/hardSoft.json';
import enHeavyLight from './en/heavyLight.json';
import enHotCold from './en/hotCold.json';
import enHungryFull from './en/hungryFull.json';
import enKalabalikTenha from './en/kalabalikTenha.json';
import enKirisikDuzgun from './en/kirisikDuzgun.json';
import enLongShort from './en/longShort.json';
import enMessyClean from './en/messyClean.json';
import enNoisyQuiet from './en/noisyQuiet.json';
import enParlakMatConcepts from './en/parlakMatConcepts.json';
import enRoughSmoothConcepts from './en/roughSmoothConcepts.json';
import enSeffafOpakConcepts from './en/seffafOpakConcepts.json';
import enSivriKutConcepts from './en/sivriKutConcepts.json';
import enStraightCurvedConcepts from './en/straightCurvedConcepts.json';
import enTazeBayatConcepts from './en/tazeBayatConcepts.json';
import enTembelCaliskanConcepts from './en/tembelCaliskanConcepts.json';
import enTersDuzConcepts from './en/tersDuzConcepts.json';
import enThinThickConcepts from './en/thinThickConcepts.json';
import enWetDryConcepts from './en/wetDryConcepts.json';
import enWideNarrowConcepts from './en/wideNarrowConcepts.json';
import enYoungOldConcepts from './en/youngOldConcepts.json';
import enFewMuchConcepts from './en/fewMuchConcepts.json';
import enFullEmptyConcepts from './en/fullEmptyConcepts.json';
import enHalfQuarterWholeConcepts from './en/halfQuarterWholeConcepts.json';
import enOddEvenConcepts from './en/oddEvenConcepts.json';

import deCommon from './de/common.json';
import deScreens from './de/screens.json';
import deLetterActivities from './de/letterActivities.json';
import deGameActivities from './de/gameActivities.json';
import deConcepts from './de/concepts.json';
import deObjects from './de/objects.json';
import deQuestions from './de/questions.json';
import deActivityFeedback from './de/activityFeedback.json';
import deCommunication from './de/communication.json';
import deFiveWOneH from './de/fiveWOneH.json';
import deCauseEffect from './de/causeEffect.json';
import deFunctionalMatching from './de/functionalMatching.json';
import deWhatDoesntBelong from './de/whatDoesntBelong.json';
import deSequencingStories from './de/sequencingStories.json';
import deDragAndDropCounting from './de/dragAndDropCounting.json';
import dePatternCompletion from './de/patternCompletion.json';
import deSudoku from './de/sudoku.json';
import deEmotionPuppet from './de/emotionPuppet.json';
import deBigSmall from './de/bigSmall.json';
import deSpatial from './de/spatial.json';
import deAliveLifeless from './de/aliveLifeless.json';
import deBitterSweet from './de/bitterSweet.json';
import deBrokenIntact from './de/brokenIntact.json';
import deCleanDirty from './de/cleanDirty.json';
import deDerinSig from './de/derinSig.json';
import deDikenliPuruzsuz from './de/dikenliPuruzsuz.json';
import deDugumCozuk from './de/dugumCozuk.json';
import deHardSoft from './de/hardSoft.json';
import deHeavyLight from './de/heavyLight.json';
import deHotCold from './de/hotCold.json';
import deHungryFull from './de/hungryFull.json';
import deKalabalikTenha from './de/kalabalikTenha.json';
import deKirisikDuzgun from './de/kirisikDuzgun.json';
import deLongShort from './de/longShort.json';
import deMessyClean from './de/messyClean.json';
import deNoisyQuiet from './de/noisyQuiet.json';
import deParlakMatConcepts from './de/parlakMatConcepts.json';
import deRoughSmoothConcepts from './de/roughSmoothConcepts.json';
import deSeffafOpakConcepts from './de/seffafOpakConcepts.json';
import deSivriKutConcepts from './de/sivriKutConcepts.json';
import deStraightCurvedConcepts from './de/straightCurvedConcepts.json';
import deTazeBayatConcepts from './de/tazeBayatConcepts.json';
import deTembelCaliskanConcepts from './de/tembelCaliskanConcepts.json';
import deTersDuzConcepts from './de/tersDuzConcepts.json';
import deThinThickConcepts from './de/thinThickConcepts.json';
import deWetDryConcepts from './de/wetDryConcepts.json';
import deWideNarrowConcepts from './de/wideNarrowConcepts.json';
import deYoungOldConcepts from './de/youngOldConcepts.json';
import deFewMuchConcepts from './de/fewMuchConcepts.json';
import deFullEmptyConcepts from './de/fullEmptyConcepts.json';
import deHalfQuarterWholeConcepts from './de/halfQuarterWholeConcepts.json';
import deOddEvenConcepts from './de/oddEvenConcepts.json';

import frCommon from './fr/common.json';
import frScreens from './fr/screens.json';
import frLetterActivities from './fr/letterActivities.json';
import frGameActivities from './fr/gameActivities.json';
import frConcepts from './fr/concepts.json';
import frObjects from './fr/objects.json';
import frQuestions from './fr/questions.json';
import frActivityFeedback from './fr/activityFeedback.json';
import frCommunication from './fr/communication.json';
import frFiveWOneH from './fr/fiveWOneH.json';
import frCauseEffect from './fr/causeEffect.json';
import frFunctionalMatching from './fr/functionalMatching.json';
import frWhatDoesntBelong from './fr/whatDoesntBelong.json';
import frSequencingStories from './fr/sequencingStories.json';
import frDragAndDropCounting from './fr/dragAndDropCounting.json';
import frPatternCompletion from './fr/patternCompletion.json';
import frSudoku from './fr/sudoku.json';
import frEmotionPuppet from './fr/emotionPuppet.json';
import frBigSmall from './fr/bigSmall.json';
import frSpatial from './fr/spatial.json';
import frAliveLifeless from './fr/aliveLifeless.json';
import frBitterSweet from './fr/bitterSweet.json';
import frBrokenIntact from './fr/brokenIntact.json';
import frCleanDirty from './fr/cleanDirty.json';
import frDerinSig from './fr/derinSig.json';
import frDikenliPuruzsuz from './fr/dikenliPuruzsuz.json';
import frDugumCozuk from './fr/dugumCozuk.json';
import frHardSoft from './fr/hardSoft.json';
import frHeavyLight from './fr/heavyLight.json';
import frHotCold from './fr/hotCold.json';
import frHungryFull from './fr/hungryFull.json';
import frKalabalikTenha from './fr/kalabalikTenha.json';
import frKirisikDuzgun from './fr/kirisikDuzgun.json';
import frLongShort from './fr/longShort.json';
import frMessyClean from './fr/messyClean.json';
import frNoisyQuiet from './fr/noisyQuiet.json';
import frParlakMatConcepts from './fr/parlakMatConcepts.json';
import frRoughSmoothConcepts from './fr/roughSmoothConcepts.json';
import frSeffafOpakConcepts from './fr/seffafOpakConcepts.json';
import frSivriKutConcepts from './fr/sivriKutConcepts.json';
import frStraightCurvedConcepts from './fr/straightCurvedConcepts.json';
import frTazeBayatConcepts from './fr/tazeBayatConcepts.json';
import frTembelCaliskanConcepts from './fr/tembelCaliskanConcepts.json';
import frTersDuzConcepts from './fr/tersDuzConcepts.json';
import frThinThickConcepts from './fr/thinThickConcepts.json';
import frWetDryConcepts from './fr/wetDryConcepts.json';
import frWideNarrowConcepts from './fr/wideNarrowConcepts.json';
import frYoungOldConcepts from './fr/youngOldConcepts.json';
import frFewMuchConcepts from './fr/fewMuchConcepts.json';
import frFullEmptyConcepts from './fr/fullEmptyConcepts.json';
import frHalfQuarterWholeConcepts from './fr/halfQuarterWholeConcepts.json';
import frOddEvenConcepts from './fr/oddEvenConcepts.json';

import nlCommon from './nl/common.json';
import nlScreens from './nl/screens.json';
import nlLetterActivities from './nl/letterActivities.json';
import nlGameActivities from './nl/gameActivities.json';
import nlConcepts from './nl/concepts.json';
import nlObjects from './nl/objects.json';
import nlQuestions from './nl/questions.json';
import nlActivityFeedback from './nl/activityFeedback.json';
import nlCommunication from './nl/communication.json';
import nlFiveWOneH from './nl/fiveWOneH.json';
import nlCauseEffect from './nl/causeEffect.json';
import nlFunctionalMatching from './nl/functionalMatching.json';
import nlWhatDoesntBelong from './nl/whatDoesntBelong.json';
import nlSequencingStories from './nl/sequencingStories.json';
import nlDragAndDropCounting from './nl/dragAndDropCounting.json';
import nlPatternCompletion from './nl/patternCompletion.json';
import nlSudoku from './nl/sudoku.json';
import nlEmotionPuppet from './nl/emotionPuppet.json';
import nlBigSmall from './nl/bigSmall.json';
import nlSpatial from './nl/spatial.json';
import nlAliveLifeless from './nl/aliveLifeless.json';
import nlBitterSweet from './nl/bitterSweet.json';
import nlBrokenIntact from './nl/brokenIntact.json';
import nlCleanDirty from './nl/cleanDirty.json';
import nlDerinSig from './nl/derinSig.json';
import nlDikenliPuruzsuz from './nl/dikenliPuruzsuz.json';
import nlDugumCozuk from './nl/dugumCozuk.json';
import nlHardSoft from './nl/hardSoft.json';
import nlHeavyLight from './nl/heavyLight.json';
import nlHotCold from './nl/hotCold.json';
import nlHungryFull from './nl/hungryFull.json';
import nlKalabalikTenha from './nl/kalabalikTenha.json';
import nlKirisikDuzgun from './nl/kirisikDuzgun.json';
import nlLongShort from './nl/longShort.json';
import nlMessyClean from './nl/messyClean.json';
import nlNoisyQuiet from './nl/noisyQuiet.json';
import nlParlakMatConcepts from './nl/parlakMatConcepts.json';
import nlRoughSmoothConcepts from './nl/roughSmoothConcepts.json';
import nlSeffafOpakConcepts from './nl/seffafOpakConcepts.json';
import nlSivriKutConcepts from './nl/sivriKutConcepts.json';
import nlStraightCurvedConcepts from './nl/straightCurvedConcepts.json';
import nlTazeBayatConcepts from './nl/tazeBayatConcepts.json';
import nlTembelCaliskanConcepts from './nl/tembelCaliskanConcepts.json';
import nlTersDuzConcepts from './nl/tersDuzConcepts.json';
import nlThinThickConcepts from './nl/thinThickConcepts.json';
import nlWetDryConcepts from './nl/wetDryConcepts.json';
import nlWideNarrowConcepts from './nl/wideNarrowConcepts.json';
import nlYoungOldConcepts from './nl/youngOldConcepts.json';
import nlFewMuchConcepts from './nl/fewMuchConcepts.json';
import nlFullEmptyConcepts from './nl/fullEmptyConcepts.json';
import nlHalfQuarterWholeConcepts from './nl/halfQuarterWholeConcepts.json';
import nlOddEvenConcepts from './nl/oddEvenConcepts.json';

import azCommon from './az/common.json';
import azScreens from './az/screens.json';
import azLetterActivities from './az/letterActivities.json';
import azGameActivities from './az/gameActivities.json';
// import azContent from './az/content.json'; // SİLİNDİ (AZ)
import azConcepts from './az/concepts.json';
import azObjects from './az/objects.json';
import azQuestions from './az/questions.json';
import azActivityFeedback from './az/activityFeedback.json';
import azCommunication from './az/communication.json';
import azFiveWOneH from './az/fiveWOneH.json';
import azCauseEffect from './az/causeEffect.json';
import azFunctionalMatching from './az/functionalMatching.json';
import azWhatDoesntBelong from './az/whatDoesntBelong.json';
import azSequencingStories from './az/sequencingStories.json';
import azDragAndDropCounting from './az/dragAndDropCounting.json';
import azPatternCompletion from './az/patternCompletion.json';
import azSudoku from './az/sudoku.json';
import azEmotionPuppet from './az/emotionPuppet.json';
import azBigSmall from './az/bigSmall.json';
import azSpatial from './az/spatial.json';
import azAliveLifeless from './az/aliveLifeless.json';
import azBitterSweet from './az/bitterSweet.json';
import azBrokenIntact from './az/brokenIntact.json';
import azCleanDirty from './az/cleanDirty.json';
import azDerinSig from './az/derinSig.json';
import azDikenliPuruzsuz from './az/dikenliPuruzsuz.json';
import azDugumCozuk from './az/dugumCozuk.json';
import azHardSoft from './az/hardSoft.json';
import azHeavyLight from './az/heavyLight.json';
import azHotCold from './az/hotCold.json';
import azHungryFull from './az/hungryFull.json';
import azKalabalikTenha from './az/kalabalikTenha.json';
import azKirisikDuzgun from './az/kirisikDuzgun.json';
import azLongShort from './az/longShort.json';
import azMessyClean from './az/messyClean.json';
import azNoisyQuiet from './az/noisyQuiet.json';
import azParlakMatConcepts from './az/parlakMatConcepts.json';
import azRoughSmoothConcepts from './az/roughSmoothConcepts.json';
import azSeffafOpakConcepts from './az/seffafOpakConcepts.json';
import azSivriKutConcepts from './az/sivriKutConcepts.json';
import azStraightCurvedConcepts from './az/straightCurvedConcepts.json';
import azTazeBayatConcepts from './az/tazeBayatConcepts.json';
import azTembelCaliskanConcepts from './az/tembelCaliskanConcepts.json';
import azTersDuzConcepts from './az/tersDuzConcepts.json';
import azThinThickConcepts from './az/thinThickConcepts.json';
import azWetDryConcepts from './az/wetDryConcepts.json';
import azWideNarrowConcepts from './az/wideNarrowConcepts.json';
import azYoungOldConcepts from './az/youngOldConcepts.json';
import azFewMuchConcepts from './az/fewMuchConcepts.json';
import azFullEmptyConcepts from './az/fullEmptyConcepts.json';
import azHalfQuarterWholeConcepts from './az/halfQuarterWholeConcepts.json';
import azOddEvenConcepts from './az/oddEvenConcepts.json';

export type Locale = 'tr' | 'en' | 'de' | 'fr' | 'nl' | 'az';

type Dict = Record<string, any>;

// Deep-merge utility
function isPlainObject(v: any): v is Record<string, any> {
  return v && typeof v === 'object' && !Array.isArray(v);
}

function mergeInto(target: Dict, src: Dict) {
  for (const k of Object.keys(src)) {
    const sv = src[k];
    const tv = target[k];
    if (isPlainObject(sv) && isPlainObject(tv)) {
      mergeInto(tv, sv);
    } else if (isPlainObject(sv)) {
      target[k] = JSON.parse(JSON.stringify(sv));
    } else {
      target[k] = sv;
    }
  }
}

function deepMerge(...objs: Dict[]): Dict {
  const out: Dict = {};
  for (const o of objs) {
    if (o && typeof o === 'object') mergeInto(out, o);
  }
  return out;
}

// Merge all modules for each language
const resources: Record<Locale, Dict> = {
  tr: deepMerge(
    {},
    trCommon,
    trScreens,
    trLetterActivities,
    trGameActivities,
    trConcepts,
    trObjects,
    trQuestions,
    trBigSmall,
    trSpatial,
    trAliveLifeless,
    trBitterSweet,
    trBrokenIntact,
    trCleanDirty,
    trDerinSig,
    trDikenliPuruzsuz,
    trDugumCozuk,
    trHardSoft,
    trHeavyLight,
    trHotCold,
    trHungryFull,
    trKalabalikTenha,
    trKirisikDuzgun,
    trLongShort,
    trMessyClean,
    trNoisyQuiet,
    trParlakMatConcepts,
    trRoughSmoothConcepts,
    trSeffafOpakConcepts,
    trSivriKutConcepts,
    trStraightCurvedConcepts,
    trTazeBayatConcepts,
    trTembelCaliskanConcepts,
    trTersDuzConcepts,
    trThinThickConcepts,
    trWetDryConcepts,
    trWideNarrowConcepts,
    trYoungOldConcepts,
    trFewMuchConcepts,
    trFullEmptyConcepts,
    trHalfQuarterWholeConcepts,
    trOddEvenConcepts,
    trActivityFeedback,
    trCommunication,
    trFiveWOneH,
    trCauseEffect,
    trFunctionalMatching,
    trWhatDoesntBelong,
    trSequencingStories,
    trDragAndDropCounting,
    trPatternCompletion,
    trSudoku,
    trEmotionPuppet,
  ),
  en: deepMerge(
    {},
    enCommon,
    enScreens,
    enLetterActivities,
    enGameActivities,
    enConcepts,
    enObjects,
    enQuestions,
    enBigSmall,
    enSpatial,
    enAliveLifeless,
    enBitterSweet,
    enBrokenIntact,
    enCleanDirty,
    enDerinSig,
    enDikenliPuruzsuz,
    enDugumCozuk,
    enHardSoft,
    enHeavyLight,
    enHotCold,
    enHungryFull,
    enKalabalikTenha,
    enKirisikDuzgun,
    enLongShort,
    enMessyClean,
    enNoisyQuiet,
    enParlakMatConcepts,
    enRoughSmoothConcepts,
    enSeffafOpakConcepts,
    enSivriKutConcepts,
    enStraightCurvedConcepts,
    enTazeBayatConcepts,
    enTembelCaliskanConcepts,
    enTersDuzConcepts,
    enThinThickConcepts,
    enWetDryConcepts,
    enWideNarrowConcepts,
    enYoungOldConcepts,
    enFewMuchConcepts,
    enFullEmptyConcepts,
    enHalfQuarterWholeConcepts,
    enOddEvenConcepts,
    enActivityFeedback,
    enCommunication,
    enFiveWOneH,
    enCauseEffect,
    enFunctionalMatching,
    enWhatDoesntBelong,
    enSequencingStories,
    enDragAndDropCounting,
    enPatternCompletion,
    enSudoku,
    enEmotionPuppet,
  ),
  de: deepMerge(
    {},
    deCommon,
    deScreens,
    deLetterActivities,
    deGameActivities,
    deConcepts,
    deObjects,
    deQuestions,
    deBigSmall,
    deSpatial,
    deAliveLifeless,
    deBitterSweet,
    deBrokenIntact,
    deCleanDirty,
    deDerinSig,
    deDikenliPuruzsuz,
    deDugumCozuk,
    deHardSoft,
    deHeavyLight,
    deHotCold,
    deHungryFull,
    deKalabalikTenha,
    deKirisikDuzgun,
    deLongShort,
    deMessyClean,
    deNoisyQuiet,
    deParlakMatConcepts,
    deRoughSmoothConcepts,
    deSeffafOpakConcepts,
    deSivriKutConcepts,
    deStraightCurvedConcepts,
    deTazeBayatConcepts,
    deTembelCaliskanConcepts,
    deTersDuzConcepts,
    deThinThickConcepts,
    deWetDryConcepts,
    deWideNarrowConcepts,
    deYoungOldConcepts,
    deFewMuchConcepts,
    deFullEmptyConcepts,
    deHalfQuarterWholeConcepts,
    deOddEvenConcepts,
    deActivityFeedback,
    deCommunication,
    deFiveWOneH,
    deCauseEffect,
    deFunctionalMatching,
    deWhatDoesntBelong,
    deSequencingStories,
    deDragAndDropCounting,
    dePatternCompletion,
    deSudoku,
    deEmotionPuppet,
  ),
  fr: deepMerge(
    {},
    frCommon,
    frScreens,
    frLetterActivities,
    frGameActivities,
    frConcepts,
    frObjects,
    frQuestions,
    frBigSmall,
    frSpatial,
    frAliveLifeless,
    frBitterSweet,
    frBrokenIntact,
    frCleanDirty,
    frDerinSig,
    frDikenliPuruzsuz,
    frDugumCozuk,
    frHardSoft,
    frHeavyLight,
    frHotCold,
    frHungryFull,
    frKalabalikTenha,
    frKirisikDuzgun,
    frLongShort,
    frMessyClean,
    frNoisyQuiet,
    frParlakMatConcepts,
    frRoughSmoothConcepts,
    frSeffafOpakConcepts,
    frSivriKutConcepts,
    frStraightCurvedConcepts,
    frTazeBayatConcepts,
    frTembelCaliskanConcepts,
    frTersDuzConcepts,
    frThinThickConcepts,
    frWetDryConcepts,
    frWideNarrowConcepts,
    frYoungOldConcepts,
    frFewMuchConcepts,
    frFullEmptyConcepts,
    frHalfQuarterWholeConcepts,
    frOddEvenConcepts,
    frActivityFeedback,
    frCommunication,
    frFiveWOneH,
    frCauseEffect,
    frFunctionalMatching,
    frWhatDoesntBelong,
    frSequencingStories,
    frDragAndDropCounting,
    frPatternCompletion,
    frSudoku,
    frEmotionPuppet,
  ),
  nl: deepMerge(
    {},
    nlCommon,
    nlScreens,
    nlLetterActivities,
    nlGameActivities,
    nlConcepts,
    nlObjects,
    nlQuestions,
    nlBigSmall,
    nlSpatial,
    nlAliveLifeless,
    nlBitterSweet,
    nlBrokenIntact,
    nlCleanDirty,
    nlDerinSig,
    nlDikenliPuruzsuz,
    nlDugumCozuk,
    nlHardSoft,
    nlHeavyLight,
    nlHotCold,
    nlHungryFull,
    nlKalabalikTenha,
    nlKirisikDuzgun,
    nlLongShort,
    nlMessyClean,
    nlNoisyQuiet,
    nlParlakMatConcepts,
    nlRoughSmoothConcepts,
    nlSeffafOpakConcepts,
    nlSivriKutConcepts,
    nlStraightCurvedConcepts,
    nlTazeBayatConcepts,
    nlTembelCaliskanConcepts,
    nlTersDuzConcepts,
    nlThinThickConcepts,
    nlWetDryConcepts,
    nlWideNarrowConcepts,
    nlYoungOldConcepts,
    nlFewMuchConcepts,
    nlFullEmptyConcepts,
    nlHalfQuarterWholeConcepts,
    nlOddEvenConcepts,
    nlActivityFeedback,
    nlCommunication,
    nlFiveWOneH,
    nlCauseEffect,
    nlFunctionalMatching,
    nlWhatDoesntBelong,
    nlSequencingStories,
    nlDragAndDropCounting,
    nlPatternCompletion,
    nlSudoku,
    nlEmotionPuppet,
  ),
  az: deepMerge(
    {},
    azCommon,
    azScreens,
    azLetterActivities,
    azGameActivities,
    // azContent, // SİLİNDİ (AZ)
    azConcepts,
    azObjects,
    azQuestions,
    azBigSmall,
    azSpatial,
    azAliveLifeless,
    azBitterSweet,
    azBrokenIntact,
    azCleanDirty,
    azDerinSig,
    azDikenliPuruzsuz,
    azDugumCozuk,
    azHardSoft,
    azHeavyLight,
    azHotCold,
    azHungryFull,
    azKalabalikTenha,
    azKirisikDuzgun,
    azLongShort,
    azMessyClean,
    azNoisyQuiet,
    azParlakMatConcepts,
    azRoughSmoothConcepts,
    azSeffafOpakConcepts,
    azSivriKutConcepts,
    azStraightCurvedConcepts,
    azTazeBayatConcepts,
    azTembelCaliskanConcepts,
    azTersDuzConcepts,
    azThinThickConcepts,
    azWetDryConcepts,
    azWideNarrowConcepts,
    azYoungOldConcepts,
    azFewMuchConcepts,
    azFullEmptyConcepts,
    azHalfQuarterWholeConcepts,
    azOddEvenConcepts,
    azActivityFeedback,
    azCommunication,
    azFiveWOneH,
    azCauseEffect,
    azFunctionalMatching,
    azWhatDoesntBelong,
    azSequencingStories,
    azDragAndDropCounting,
    azPatternCompletion,
    azSudoku,
    azEmotionPuppet,
  ),
};

// ... (dosyanın geri kalanı aynı)

let currentLang: Locale = ((): Locale => {
  const stored = localStorage.getItem('lang_v1');
  const supported: Locale[] = ['tr','en','de','fr','nl','az'];
  if (stored && supported.includes(stored as Locale)) {
    return stored as Locale;
  }
  const nav = (navigator.language || 'tr').toLowerCase();
  if (nav.startsWith('tr')) return 'tr';
  if (nav.startsWith('de')) return 'de';
  if (nav.startsWith('fr')) return 'fr';
  if (nav.startsWith('nl')) return 'nl';
  if (nav.startsWith('az')) return 'az';
  return 'en';
})();

export function getCurrentLanguage(): Locale {
  return currentLang;
}

export function setCurrentLanguage(lang: Locale) {
  currentLang = lang;
  try { localStorage.setItem('lang_v1', lang); } catch {}
  applyDocumentLanguage();
}

export function applyDocumentLanguage() {
  if (typeof document !== 'undefined') {
    document.documentElement.lang = currentLang;
  }
}

// Simple dotted path lookup
function lookup(dict: Dict, path: string): string | undefined {
  const parts = path.split('.');
  let node: any = dict;
  for (const p of parts) {
    if (node && typeof node === 'object' && p in node) node = node[p];
    else return undefined;
  }
  return typeof node === 'string' ? node : undefined;
}

export function t(key: string, fallback?: string): string {
  const res = lookup(resources[currentLang], key);
  if (res) return res;
  const resTr = lookup(resources.tr, key);
  if (resTr) return resTr;
  if (key.startsWith('objects.')) {
    const parts = key.split('.').slice(1);
    const last = parts.join('.');
    const placeholder = last.replace(/_/g, ' ');
    return placeholder || (fallback ?? key);
  }
  return fallback ?? key;
}

export function lookupLocale(key: string, locale?: Locale): string | undefined {
  const loc = locale ?? currentLang;
  return lookup(resources[loc], key);
}

// Return raw resource value (could be string | array | object)
export function getRaw(key: string, locale?: Locale): any {
  const loc = locale ?? currentLang;
  const parts = key.split('.');
  let node: any = resources[loc];
  for (const p of parts) {
    if (node && typeof node === 'object' && p in node) node = node[p];
    else return undefined;
  }
  return node;
}

applyDocumentLanguage();